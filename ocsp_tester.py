from ocspchecker import ocspchecker
import base64
import json


import requests
r=requests.get("https://cloudflare-dns.com/dns-query?name=asd1.7.ttlexp.exp.net-measurement.net&type=txt", headers={"accept":"application/dns-json"})
answer = json.loads(r.text)['Answer'][0]



youtube_response_str = "48,130,1,212,10,1,0,160,130,1,205,48,130,1,201,6,9,43,6,1,5,5,7,48,1,1,4,130,1,186,48,130,1,182,48,129,159,162,22,4,20,138,116,127,175,133,205,238,149,205,61,156,208,226,70,20,243,113,53,29,39,24,15,50,48,50,50,48,54,51,48,49,53,53,54,52,57,90,48,116,48,114,48,74,48,9,6,5,43,14,3,2,26,5,0,4,20,199,46,121,138,221,255,97,52,179,186,237,71,66,184,187,198,192,36,7,99,4,20,138,116,127,175,133,205,238,149,205,61,156,208,226,70,20,243,113,53,29,39,2,17,0,170,155,242,217,87,9,63,113,18,239,228,43,82,100,3,110,128,0,24,15,50,48,50,50,48,54,51,48,49,53,53,54,52,57,90,160,17,24,15,50,48,50,50,48,55,48,55,49,52,53,54,52,56,90,48,13,6,9,42,134,72,134,247,13,1,1,11,5,0,3,130,1,1,0,182,136,101,111,15,253,181,196,157,12,46,161,31,91,51,113,246,230,212,140,175,30,196,113,70,11,134,97,238,141,213,26,154,58,142,23,2,214,18,6,65,117,92,157,46,133,232,241,209,154,158,82,125,240,232,206,246,224,249,226,214,67,137,199,193,70,141,1,79,232,145,230,221,55,69,164,104,73,14,213,26,175,75,42,252,51,201,58,138,27,247,5,248,4,2,84,127,21,180,10,135,192,111,115,56,81,109,168,215,142,67,94,46,48,111,177,201,158,161,48,239,170,195,201,244,65,45,94,157,171,55,184,190,200,57,207,203,190,16,15,22,205,239,69,21,150,25,157,247,70,241,120,111,212,40,135,157,180,72,9,106,247,217,218,25,205,210,113,239,6,158,165,175,247,101,216,243,49,33,149,144,214,253,129,114,92,159,57,156,178,57,36,222,96,140,190,141,66,172,52,128,220,64,231,54,40,162,44,113,170,103,114,216,224,31,174,160,196,172,240,93,207,3,25,171,158,103,43,247,115,84,79,85,51,226,101,152,122,12,224,39,226,4,99,84,240,140,133,106,61,209,7,26,189,139,59"

youtube_response_bytes_ = youtube_response_str.split(",")

youtube_response_bytes_ = [int(e) for e in youtube_response_bytes_]

youtube_response_bytes = bytes(youtube_response_bytes_)


encoded_bytes = base64.b64encode(youtube_response_bytes)

encoded_str = encoded_bytes.decode('ascii')

a = 1



ocsp_request, response = ocspchecker.get_ocsp_status("youtube.com")


# for i in range(min(len(response), len(youtube_response_bytes))):
#     print(response[i], youtube_response_bytes[i])


# a = 1
#
encoded_bytes = base64.b64encode(response)

encoded_str_2 = encoded_bytes.decode('ascii')

a = 1
#
# decoded = base64.decodebytes(encoded_str.encode("ascii"))
#
# a = 1